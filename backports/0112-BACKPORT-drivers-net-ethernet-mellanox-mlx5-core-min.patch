From: Talat Batheesh <talatb@mellanox.com>
Subject: [PATCH] BACKPORT: drivers/net/ethernet/mellanox/mlx5/core/miniflow.c

Change-Id: Iec18e297e96ee83d4a7db4c65f0efa8d4589510f
---
 drivers/net/ethernet/mellanox/mlx5/core/miniflow.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/drivers/net/ethernet/mellanox/mlx5/core/miniflow.c b/drivers/net/ethernet/mellanox/mlx5/core/miniflow.c
index xxxxxxx..xxxxxxx 100644
--- a/drivers/net/ethernet/mellanox/mlx5/core/miniflow.c
+++ b/drivers/net/ethernet/mellanox/mlx5/core/miniflow.c
@@ -1081,6 +1081,7 @@ static int miniflow_cache_get(void)
 	if (!miniflow_cache)
 		return -ENOMEM;
 
+#define __WQ_LEGACY (1 << 18)
 	miniflow_wq = alloc_workqueue("miniflow",
 				      __WQ_LEGACY | WQ_MEM_RECLAIM |
 				      WQ_UNBOUND | WQ_HIGHPRI | WQ_SYSFS, 16);
